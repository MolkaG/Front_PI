<form [formGroup]="productForm" (ngSubmit)="addProduct()">
    <!-- Title Input -->
    <div class="mb-3">
      <label for="title" class="form-label">Title:</label>
      <input type="text" id="title" class="form-control" formControlName="title">
      <!-- Error Messages for Title -->
      <div *ngIf="productForm.get('title')?.invalid && (productForm.get('title')?.touched || productForm.get('title')?.dirty)">
        <div *ngIf="productForm.get('title')!.errors!['required']" class="text-danger">
          Title is required.
        </div>
        <div *ngIf="productForm.get('title')!.errors!['minlength']" class="text-danger">
          Title must be at least {{ productForm.get('title')!.errors!['minlength'].requiredLength }} characters long.
        </div>
        <div *ngIf="productForm.get('title')!.errors!['specialCharacters']" class="text-danger">
          Title cannot contain special characters.
        </div>
      </div>
    </div>
  
    <!-- Description Textarea -->
    <div class="mb-3">
      <label for="description" class="form-label">Description:</label>
      <textarea id="description" class="form-control" formControlName="description"></textarea>
      <!-- Error Messages for Description -->
      <div *ngIf="productForm.get('description')?.invalid && (productForm.get('description')?.touched || productForm.get('description')?.dirty)">
        <div *ngIf="productForm.get('description')!.errors!['required']" class="text-danger">
          Description is required.
        </div>
        <div *ngIf="productForm.get('description')!.errors!['minlength']" class="text-danger">
          Description must be at least {{ productForm.get('description')!.errors!['minlength'].requiredLength }} characters long.
        </div>
        <div *ngIf="productForm.get('description')!.errors!['specialCharacters']" class="text-danger">
          Description cannot contain special characters.
        </div>
      </div>
    </div>
  
    <!-- Price Input -->
    <div class="mb-3">
      <label for="price" class="form-label">Price:</label>
      <input type="number" id="price" class="form-control" formControlName="price">
      <!-- Error Messages for Price -->
      <div *ngIf="productForm.get('price')?.invalid && (productForm.get('price')?.touched || productForm.get('price')?.dirty)">
        <div *ngIf="productForm.get('price')!.errors!['required']" class="text-danger">
          Price is required.
        </div>
        <div *ngIf="productForm.get('price')!.errors!['pattern']" class="text-danger">
          Invalid price format. Must be a positive number with up to two decimal places.
        </div>
        <div *ngIf="productForm.get('price')!.errors!['min']" class="text-danger">
          Price must be greater than 0.
        </div>
      </div>
    </div>
  
    <!-- Image Upload -->
    <div class="mb-3">
      <label for="imageUrl" class="form-label">Image:</label>
      <input type="file" id="imageUrl" class="form-control" (change)="onFileSelected($event)">
      <!-- Error Messages for Image -->
      <div *ngIf="productForm.get('imageUrl')?.invalid && (productForm.get('imageUrl')?.touched || productForm.get('imageUrl')?.dirty)">
        <div *ngIf="productForm.get('imageUrl')!.errors!['required']" class="text-danger">
          Image is required.
        </div>
      </div>
    </div>
  
    <!-- Quantity Input -->
    <div class="mb-3">
      <label for="quantity" class="form-label">Quantity:</label>
      <input type="number" id="quantity" class="form-control" formControlName="quantity">
      <!-- Error Messages for Quantity -->
      <div *ngIf="productForm.get('quantity')?.invalid && (productForm.get('quantity')?.touched || productForm.get('quantity')?.dirty)">
        <div *ngIf="productForm.get('quantity')!.errors!['required']" class="text-danger">
          Quantity is required.
        </div>
        <div *ngIf="productForm.get('quantity')!.errors!['pattern']" class="text-danger">
          Invalid quantity format. Must be a positive whole number.
        </div>
        <div *ngIf="productForm.get('quantity')!.errors!['min']" class="text-danger">
          Quantity must be greater than 0.
        </div>
      </div>
    </div>
  
    <!-- Category Dropdown -->
    <div class="mb-3">
      <label for="categoryName" class="form-label">Category:</label>
      <select id="categoryName" class="form-select" formControlName="idCategorie">
        <option value="">Select a category...</option>
        <option *ngFor="let category of categories" [value]="category._id">
          {{ category.nom }}
        </option>
      </select>
      <!-- Error Messages for Category -->
      <div *ngIf="productForm.get('categoryName')?.invalid && (productForm.get('categoryName')?.touched || productForm.get('categoryName')?.dirty)">
        <div *ngIf="productForm.get('categoryName')!.errors!['required']" class="text-danger">
          Category is required.
        </div>
      </div>
    </div>
  
    <!-- Submit Button -->
    <button type="submit" class="btn btn-primary" [disabled]="productForm.invalid">Add Product</button>
    

<!-- src/app/panier/panier.component.html -->
<button (click)="navigateToEdit()" class="btn btn-primary">Go to Edit</button>

</form>
  